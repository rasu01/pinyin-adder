# pinyin-adder
A python script that adds pinyin to mandarin-english sentence pairs from tatoeba.org.
It also evaluates if the sentence is traditional, simplified, or both. It also takes the tokens by themselves and creates a string by putting spaces between them so that it becomes easier to search for specific words that exist inside a sentence using an sql database. For my specific usecase this was needed since I need to be able to distinguish words and their subwords so that they don't clash when I search for example sentences in my mandarin learning application. For example, the word "我们" also technically contain the word "我". But for the example sentence's sake, we don't want to search for the word "我" and getting sentences that contain "我们".

# Sentence Source
The source of the sentences("sentences_zh-en.tsv") were taken from https://tatoeba.org/. The specific file I downloaded was a "Mandarin Chinese" to "English" sentence pair and can be more specifically downloaded under "Sentence pairs" at https://tatoeba.org/en/downloads/.
The content itself has the license "CC BY 2.0 FR". https://creativecommons.org/licenses/by/2.0/fr/

# Dependencies
The application depends on pinyin_jyutping and hanzidentifier. (In my experience, hanzidentifier is part of pinyin_jyutping so we don't need to manually install it)

```
pip install pinyin_jyutping
```
# Usage
To execute the converter you need to run the command:
```
python3 converter.py sentences_zh-en.tsv output.csv
```
# The Output

An actual row of data should look like this if it contains a simplified sentence:

| simplified | traditional | pinyin | translation |
| --- | --- | --- | --- |
| 你 肯定 吗 ？ | NULL | ni3 ken3ding4 ma3 ？ | Are you sure? |

like this if it contains a traditional sentence:

| simplified | traditional | pinyin | translation |
| --- | --- | --- | --- |
| NULL | 我 很快 就 會 回來 | wo3 hen3kuai4 jiu4 hui4 hui2lai5 | I will be back soon. |

or like this if it contains both:

| simplified | traditional | pinyin | translation |
| --- | --- | --- | --- |
| 我 不 知道 | 我 不 知道 | wo3 bu4 zhi1dao4 | I have no idea. |

The data inside the tables above are also taken from tatoeba.org and are licensed with the same aforementioned license.
As can be seen, if a row contains a sentence with no valid simplified or traditional counterpart, it will be set as "NULL". I don't know how many errors there are in the pinyin generated by the library. There are most likely faults.
